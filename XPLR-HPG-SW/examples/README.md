![u-blox](./../media/shared/logos/ublox_logo.jpg)
<br>
<br>

# XPLR-HPG-Software Examples

The folder contains multiple code examples, showcasing key features of the modules and services available on the **[XPLR-HPG-1](https://www.u-blox.com/en/product/xplr-hpg-1)** and **[XPLR-HPG-2](https://www.u-blox.com/en/product/xplr-hpg-2)** kits. They can be used as quick-start guides to help you kick-off your next u-blox powered project.

## Examples Summary
Name | Description | Features
--- | --- | ---
**[Hpg Base](./shortrange/01_hpg_base/)** | Template project to get you started. | [board manager](./../components/boards/)
**[Thingstream ZTP (Wi-Fi)](./shortrange/02_hpg_wifi_http_ztp/)** | Demonstration of Thingstream's ZTP service for location things using Wi-Fi. | [board manager](./../components/boards/) <br> [hpglib/common](./../components/hpglib/src/common) <br> [xplr_wifi_starter](./../components/xplr_wifi_starter) <br> [xplr_ztp](./../components/xplr_ztp) <br> [xplr_ztp_json_parser](./../components/xplr_ztp_json_parser/)
**[Thingstream Correction Data using Certs (Wi-Fi)](./shortrange/03_hpg_wifi_mqtt_correction_certs/)** | Demonstration of Thingstream's PointPerfect data correction via MQTT using WiFi. <br> Correction data is fed to a GNSS module. <br> Authentication using certificates. | [board manager](./../components/boards/) <br> [hpglib/common](./../components/hpglib/src/common) <br> [xplr_wifi_starter](./../components/xplr_wifi_starter) <br> [xplr_mqtt](./../components/xplr_mqtt) <br> [hpglib/location_services/xplr_gnss_service](./../components/hpglib/src/location_service/gnss_service/) <br> [hpglib/location_services/location_service_helpers](./../components/hpglib/src/location_service/location_service_helpers/)
**[Thingstream Correction Data using ZTP (Wi-Fi)](./shortrange/04_hpg_wifi_mqtt_correction_ztp/)** | Demonstration of Thingstream's PointPerfect data correction via MQTT using WiFi. <br> Correction data is fed to a GNSS module. <br> Authentication using Zero Touch Provisioning (ZTP). | [board manager](./../components/boards/) <br> [hpglib/common](./../components/hpglib/src/common) <br> [xplr_wifi_starter](./../components/xplr_wifi_starter) <br> [xplr_ztp](./../components/xplr_ztp) <br> [xplr_ztp_json_parser](./../components/xplr_ztp_json_parser/) <br> [xplr_mqtt](./../components/xplr_mqtt) <br> [hpglib/location_services/xplr_gnss_service](./../components/hpglib/src/location_service/gnss_service/) <br> [hpglib/location_services/location_service_helpers](./../components/hpglib/src/location_service/location_service_helpers/)
**[Thingstream Correction Data using Captive Portal (Wi-Fi)](./shortrange/05_hpg_wifi_mqtt_correction_captive_portal/)** | Demonstration of Thingstream's PointPerfect correction data via MQTT using WiFi.<br>Credentials provisioning and live map tracking are featured through a self-hosted web interface. | [board manager](./../components/boards/) <br> [hpglib/common](./../components/hpglib/src/common) <br> [xplr_wifi_starter (DNS + Webserver)](./../components/xplr_wifi_starter) <br> [xplr_ztp](./../components/xplr_ztp) <br> [xplr_ztp_json_parser](./../components/xplr_ztp_json_parser/) <br> [xplr_mqtt](./../components/xplr_mqtt) <br> [hpglib/location_services/xplr_gnss_service](./../components/hpglib/src/location_service/gnss_service/) <br> [hpglib/location_services/location_service_helpers](./../components/hpglib/src/location_service/location_service_helpers/)
**[Network Registration (cellular)](./cellular/01_hpg_cell_register/)** | Demo project for configuring a cellular module and registering to a cellular provider. | [board manager](./../components/boards) <br> [hpglib/common](./../components/hpglib/src/common) <br> [hpglib/communication service](./../components/hpglib/src/com_service)
**[Thingstream Correction Data using Certs (cellular)](./cellular/02_hpg_cell_mqtt_correction_certs/)** | Example of how to access Thingstream's Location Service data, providing required certificates manually, over cellular and forward them to a GNSS module. | [board manager](./../components/boards) <br> [hpglib/common](./../components/hpglib/src/common) <br> [hpglib/communication service](./../components/hpglib/src/com_service) <br> [hpglib/mqttClient_service](./../components/hpglib/src/mqttClient_service/) <br> [hpglib/thingstream_service](./../components/hpglib/src/thingstream_service/) <br> [hpglib/location_services/xplr_gnss_service](./../components/hpglib/src/location_service/gnss_service/) <br> [hpglib/location_services/location_service_helpers](./../components/hpglib/src/location_service/location_service_helpers/)
**[Thingstream Correction Data using ZTP (cellular)](./cellular/03_hpg_cell_mqtt_correction_ztp/)** | Example of how to access Thingstream's Location Service data, using ZTP, over cellular and forward them to a GNSS module. | [board manager](./../components/boards) <br> [hpglib/common](./../components/hpglib/src/common) <br> [hpglib/communication service](./../components/hpglib/src/com_service) <br> [hpglib/httpClient_service](./../components/hpglib/src/httpClient_service/) <br> [hpglib/mqttClient_service](./../components/hpglib/src/mqttClient_service/) <br> [hpglib/thingstream_service](./../components/hpglib/src/thingstream_service/) <br> [hpglib/location_services/xplr_gnss_service](./../components/hpglib/src/location_service/gnss_service/) <br> [hpglib/location_services/location_service_helpers](./../components/hpglib/src/location_service/location_service_helpers/)
**[GNSS/LBAND Module Configuration](./positioning/01_hpg_gnss_config/)** | Example of how to configure your GNSS or LBAND module. | [board manager](./../components/boards) <br> [hpglib/common](./../components/hpglib/src/common) <br> [hpglib/location_services/xplr_gnss_service](./../components/hpglib/src/location_service/gnss_service/) <br> [hpglib/location_services/xplr_lband_service](./../components/hpglib/src/location_service/lband_service/) <br> [hpglib/location_services/location_service_helpers](./../components/hpglib/src/location_service/location_service_helpers/)
**[GNSS/LBAND Correction data](./positioning/02_hpg_gnss_lband_correction/)** | Example of how to get correction data from an LBAND module and feed them to a GNSS module. <br> Decryption keys are fetched using MQTT.|  [board manager](./../components/boards/) <br> [hpglib/common](./../components/hpglib/src/common) <br> [xplr_wifi_starter](./../components/xplr_wifi_starter) <br> [xplr_mqtt](./../components/xplr_mqtt) <br> [hpglib/location_services/xplr_gnss_service](./../components/hpglib/src/location_service/gnss_service/) <br> [hpglib/location_services/xplr_lband_service](./../components/hpglib/src/location_service/lband_service/) <br> [hpglib/location_services/location_service_helpers](./../components/hpglib/src/location_service/location_service_helpers/)
<br>

## Building Instructions
Working with any of the examples provided requires editing a single line in [CMakeLists.txt](./../CMakeLists.txt) to select a project to build.
<br>

Individual build instructions are provided under all example folders.<br>
In general, building any of the provided projects, involves the following steps:<br>
1. Clone the [XPLR-HPG](https://github.com/u-blox/xplr-hpg) repository and update included submodules.
2. Navigate to  ```XPLR-HPG-SW``` folder and ```Open with Code``` (or open the ```VS code `` app and open the folder from the app menu).
3. Open the [CMakeLists.txt](./../CMakeLists.txt) located in the root of the workspace.
4. Select the example you wish to build by activating the corresponding ```set(ENV{XPLR_HPG_PROJECT} <example_name>)``` command.
5. Run ```MenuConfig``` using either the "cog" symbol present in the [Status bar](https://code.visualstudio.com/docs/getstarted/userinterface) or by opening the command palette (```Ctrl+Shift+P```) and typing 
```ESP-IDF:SDK Configuration editor (menuconfig)```.
6. Check / Edit the current configuration according to your needs.
7. Click `Save` and then `Build, Flash and Monitor` the project to the MCU using the "flame" icon.
<br>

**NOTE:** Remember, **only one** ```project(<example_name>)``` and its corresponding include path ```"$ENV{XPLR_HPG_SW_PATH}/examples/<module>/<example>"``` can be active at a time!
